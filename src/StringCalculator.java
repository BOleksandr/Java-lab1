import java.util.Scanner;public class StringCalculator {    public static void main(String[] args){        StringCalculator calculator = new StringCalculator();        Scanner input = new Scanner(System.in);        System.out.print(">>");        int n = calculator.add(input.nextLine());        System.out.println("Результат: " + n);    }    public static String meta_character_processing(String delim){        String[] meta_char = {"*","+","?","$","^"};        for (String i : meta_char)            delim = delim.replace(i,"\\" + i);        return delim;    }    public int add(String numbers){        int sum = 0, n;        String negative_numbers = "";        String delimiter = ",";        String[] delimiters;        numbers = numbers.replace("\\n",",");        if (numbers.startsWith("//[")){            String[] text = numbers.split(",",2);            if(text[0].length() - 1 == numbers.indexOf("]")){                delimiter = text[0].substring(3, numbers.indexOf("]"));                delimiter = meta_character_processing(delimiter);            }else{                int len_text0 = text[0].length();                text[0] = text[0].substring(3,len_text0 - 1)                        .replace("]","[")                        .replace("[[",",");                delimiters = text[0].split(",");                for (String s : delimiters) text[1] = text[1].replace(s, delimiters[0]);                delimiter = meta_character_processing(delimiters[0]);            }            numbers = text[1];        }        if(!numbers.isEmpty()) {            String[] str = numbers.split("");            if (!str[str.length - 1].equals(delimiter) && !str[0].equals(delimiter)) {                String[] num = numbers.split(delimiter);                for (String i : num) {                    if (!i.isEmpty()){                        try {                            n = Integer.parseInt(i);                        }catch (NumberFormatException e){                            return 0;                        }                        if (n < 0)                            negative_numbers += i + " ";                        else if(n <= 1000)                            sum += n;                    }                }            }        }        if(!negative_numbers.isEmpty()){            System.out.println("Недозволені від’ємні числа");            System.out.println(negative_numbers);            sum = 0;        }        return sum;    }}